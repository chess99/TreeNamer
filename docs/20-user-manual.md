# TreeNamer 用户手册

## 简介

TreeNamer 是一个强大的目录树可视化和重命名工具，可让您轻松修改复杂的文件夹结构。通过提供直观的文本表示和实时预览，TreeNamer 简化了批量重命名和目录结构调整的过程。

## 快速开始

### 打开目录

1. 启动 TreeNamer 应用程序
2. 点击"浏览"按钮或将文件夹直接拖放到应用程序窗口中
3. 选择要操作的目录
4. 应用将显示目录的树状结构

### 编辑目录结构

您可以通过以下两种方式之一编辑目录结构：

#### 文本编辑模式

1. 在右侧文本编辑器中修改目录结构
2. 修改文件夹或文件名称
3. 调整缩进来移动项目
4. 添加或删除行来创建或删除项目

#### 树视图编辑模式

1. 使用树视图界面进行直观的编辑
2. 点击项目以选择它
3. 使用右键菜单或快捷键执行操作：
   - 重命名 (F2)
   - 删除 (Delete)
   - 移动 (拖放)

### 应用更改

1. 编辑完成后，点击"预览更改"按钮查看将执行的操作
2. 检查操作列表确保它们符合您的预期
3. 如果满意，点击"应用更改"按钮
4. 系统会自动创建备份，然后执行重命名操作

## 功能详解

### 目录树可视化

TreeNamer 提供两种查看目录结构的方式：

1. **文本表示**：类似于命令行中 `tree` 命令的输出
2. **图形树视图**：带有文件夹和文件图标的可折叠树结构

### 高级编辑功能

#### 多光标编辑

在文本模式下，您可以使用 Monaco 编辑器的多光标功能同时编辑多个位置：

- **Ctrl+点击** (Windows/Linux) 或 **Cmd+点击** (Mac) 添加额外光标
- **Alt+拖动** 创建矩形选择区域，在每行添加光标

#### 批量重命名

使用正则表达式快速替换多个文件名：

1. 按 **Ctrl+H** 打开替换对话框
2. 启用正则表达式选项
3. 输入匹配模式和替换文本
4. 点击"全部替换"应用更改

### 差异可视化

当您编辑目录结构时，TreeNamer 会显示原始结构和修改后结构之间的差异：

- **绿色**：新增的项目
- **红色**：被删除的项目
- **蓝色**：被移动或重命名的项目

### 备份和恢复

TreeNamer 在执行任何文件系统更改前自动创建备份：

1. 每次操作都会创建一个带有时间戳的备份
2. 通过"备份"选项卡访问和管理备份
3. 选择备份并点击"恢复"按钮可回滚到之前的状态

## 高级设置

### 目录选项

点击"设置"按钮可配置以下选项：

- **最大深度**：限制目录树的深度
- **排除模式**：使用正则表达式排除特定文件或文件夹
- **显示隐藏文件**：切换是否显示隐藏文件和文件夹
- **跟随符号链接**：选择是否跟随符号链接

### 自定义主题

TreeNamer 支持亮色和暗色主题：

1. 点击右上角的主题切换按钮
2. 选择"亮色"或"暗色"，或选择"系统"以遵循系统偏好设置

## 故障排除

### 常见问题

#### 无法重命名某些文件

可能的原因和解决方法：

- 文件可能正被其他程序使用 → 关闭使用该文件的应用程序
- 权限不足 → 以管理员权限运行 TreeNamer
- 文件名包含非法字符 → 修改文件名，移除特殊字符

#### 操作失败

如果操作失败，TreeNamer 将显示错误消息并提供可能的解决方案。在许多情况下，您可以：

1. 检查错误消息以了解具体问题
2. 确保您有足够的权限
3. 尝试恢复之前的备份
4. 修改您的更改以避免冲突

## 键盘快捷键

| 操作 | Windows/Linux | Mac |
|------|--------------|-----|
| 保存 | Ctrl+S | Cmd+S |
| 撤销 | Ctrl+Z | Cmd+Z |
| 重做 | Ctrl+Y | Cmd+Shift+Z |
| 查找 | Ctrl+F | Cmd+F |
| 替换 | Ctrl+H | Cmd+H |
| 全选 | Ctrl+A | Cmd+A |
| 预览更改 | Ctrl+P | Cmd+P |
| 应用更改 | Ctrl+Enter | Cmd+Enter |
| 多光标 | Ctrl+点击 | Cmd+点击 |
| 矩形选择 | Alt+拖动 | Option+拖动 |
