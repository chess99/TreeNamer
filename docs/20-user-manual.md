# TreeNamer 用户手册

## 简介

TreeNamer 是一个强大的目录树可视化和重命名工具，可让您轻松修改复杂的文件夹结构。通过提供直观的文本表示和实时预览，TreeNamer 简化了批量重命名和目录结构调整的过程。

## 快速开始

### 打开目录

1. 启动 TreeNamer 应用程序
2. 点击"浏览"按钮或将文件夹直接拖放到应用程序窗口中
3. 选择要操作的目录
4. 应用将显示目录的树状结构

### 编辑目录结构

您可以通过以下两种方式之一编辑目录结构：

#### 文本编辑模式

1. 在右侧文本编辑器中修改目录结构
2. 修改文件夹或文件名称
3. 调整缩进来移动项目
4. 添加或删除行来创建或删除项目

#### 树视图编辑模式

1. 使用树视图界面进行直观的编辑
2. 点击项目以选择它
3. 使用右键菜单或快捷键执行操作：
   - 重命名 (F2)
   - 删除 (Delete)
   - 移动 (拖放)

### 应用更改

1. 编辑完成后，点击"预览更改"按钮查看将执行的操作
2. 检查操作列表确保它们符合您的预期
3. 如果满意，点击"应用更改"按钮
4. 系统会自动创建备份，然后执行重命名操作

## 功能详解

### 目录树可视化

TreeNamer 提供两种查看目录结构的方式：

1. **文本表示**：类似于命令行中 `tree` 命令的输出
2. **图形树视图**：带有文件夹和文件图标的可折叠树结构

### 高级编辑功能

#### 多光标编辑

在文本模式下，您可以使用 Monaco 编辑器的多光标功能同时编辑多个位置：

- **Ctrl+点击** (Windows/Linux) 或 **Cmd+点击** (Mac) 添加额外光标
- **Alt+拖动** 创建矩形选择区域，在每行添加光标

#### 批量重命名

使用正则表达式快速替换多个文件名：

1. 按 **Ctrl+H** 打开替换对话框
2. 启用正则表达式选项
3. 输入匹配模式和替换文本
4. 点击"全部替换"应用更改

### 差异可视化

当您编辑目录结构时，TreeNamer 会显示原始结构和修改后结构之间的差异：

- **绿色**：新增的项目
- **红色**：被删除的项目
- **蓝色**：被移动或重命名的项目

## 高级设置

### 目录选项

点击"设置"按钮可配置以下选项：

- **最大深度**：限制目录树的深度
- **排除模式**：使用正则表达式排除特定文件或文件夹
- **显示隐藏文件**：切换是否显示隐藏文件和文件夹
- **跟随符号链接**：选择是否跟随符号链接

### 自定义主题

TreeNamer 支持亮色和暗色主题：

1. 点击右上角的主题切换按钮
2. 选择"亮色"或"暗色"，或选择"系统"以遵循系统偏好设置

## 故障排除

### 常见问题

#### 无法重命名某些文件

可能的原因和解决方法：

- 文件可能正被其他程序使用 → 关闭使用该文件的应用程序
- 权限不足 → 以管理员权限运行 TreeNamer
- 文件名包含非法字符 → 修改文件名，移除特殊字符

#### 操作失败

如果操作失败，TreeNamer 将显示错误消息并提供可能的解决方案。在许多情况下，您可以：

1. 检查错误消息以了解具体问题
2. 确保您有足够的权限
3. 尝试恢复之前的备份
4. 修改您的更改以避免冲突

### 处理错误

如果操作过程中出现错误：

1. 查看错误消息了解详细信息
2. 修复错误原因
3. 再次尝试应用更改

### 处理修改失败

如果文件修改失败：

1. 确保没有其他程序使用这些文件
2. 检查文件权限
3. 修改您的更改以避免冲突

## 键盘快捷键

| 操作 | Windows/Linux | Mac |
|------|--------------|-----|
| 保存 | Ctrl+S | Cmd+S |
| 撤销 | Ctrl+Z | Cmd+Z |
| 重做 | Ctrl+Y | Cmd+Shift+Z |
| 查找 | Ctrl+F | Cmd+F |
| 替换 | Ctrl+H | Cmd+H |
| 全选 | Ctrl+A | Cmd+A |
| 预览更改 | Ctrl+P | Cmd+P |
| 应用更改 | Ctrl+Enter | Cmd+Enter |
| 多光标 | Ctrl+点击 | Cmd+点击 |
| 矩形选择 | Alt+拖动 | Option+拖动 |

### 快捷键

TreeNamer 提供以下快捷键：

- **Ctrl+O** (Windows/Linux) / **Cmd+O** (Mac): 打开目录
- **Ctrl+S** (Windows/Linux) / **Cmd+S** (Mac): 应用更改
- **Ctrl+P** (Windows/Linux) / **Cmd+P** (Mac): 预览更改
- **Ctrl+Z** (Windows/Linux) / **Cmd+Z** (Mac): 撤销编辑
- **Ctrl+Shift+Z** (Windows/Linux) / **Cmd+Shift+Z** (Mac): 重做编辑
- **Alt+1**: 切换到文本编辑模式
- **Alt+2**: 切换到树视图模式

## 常见问题和解决方案

### 权限问题

如果遇到权限错误：

1. 确保您有修改目标目录的权限
2. 在 Windows 上，尝试以管理员身份运行 TreeNamer
3. 在 macOS/Linux 上，检查文件和目录的权限设置

### 命名冲突

如果重命名操作导致命名冲突：

1. TreeNamer 会显示警告信息
2. 修改您的编辑以解决冲突
3. 再次尝试应用更改

### 无法重命名某些文件

某些文件可能无法重命名，原因包括：

1. 文件被其他程序锁定
2. 文件名包含不支持的字符
3. 路径长度超过系统限制

尝试关闭可能使用这些文件的程序，然后重试操作。

## 最佳实践

- **备份重要数据**：在对重要目录进行大规模更改前，先创建备份
- **分批处理**：对非常大的目录，考虑分批进行重命名操作
- **使用预览**：始终在应用更改前使用预览功能
- **避免系统目录**：不要尝试重命名系统关键目录

## 联系与支持

如果您遇到无法解决的问题，请通过以下方式联系我们：

- 电子邮件：<support@treenamer.example.com>
- GitHub 问题：<https://github.com/example/treenamer/issues>
